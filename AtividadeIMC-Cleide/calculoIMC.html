<!DOCTYPE html>
<!--1 - Fazer o cálculo do IMC com o peso e altura informados;
    2 - Informar a classificação
    3 - calcular/imprimir
    4 - calcular peso ideal => P1 = IMC(calculado)*(A^2)
                               P2 = IMC(calculado)*(A^2)
                               o peso ideal está entre os doi
-->


<html>
  <head>
    <meta charset="utf-8">
    <title>Cálculo IMC</title><link rel="stylesheet" href="../js/bootstrap-3.3.7-dist/css/bootstrap.css">

  <script>



    function pesoIdeal(){
      var a = parseFloat(document.dados.altura.value);


     if(!isNaN(a) ){
       var p1 = ( 18.6*(a*a));
       var p2 = (24.9*(a*a));



       document.getElementById("pesoId").innerHTML = "O Peso Ideal deve estra entre : "+p1.toFixed(1)+" e "+ +p2.toFixed(1);


     }

    }

    function imc(){

      var p = parseFloat(document.dados.peso.value);
      var a = parseFloat(document.dados.altura.value);

      if(document.dados.peso.value.length == 0.0 || isNaN(p)){
        document.getElementById("grupoPeso").classList.add("has-error");
        document.getElementById("alertaPeso").style.display = "block";
        document.getElementById("alertaClf").style.display = "none";
        document.getElementById("alertaPesId").style.display = "none";
        document.dados.peso.value ="";
        document.dados.peso.focus();
        return;
      }
      document.getElementById("grupoPeso").classList.remove("has-error");
      document.getElementById("alertaAltura").style.display = "none";
      document.getElementById("alertaClf").style.display = "block";
      document.getElementById("alertaPesId").style.display = "block";

      if(document.dados.altura.value.length == 0.0 || isNaN(a)){
          //window.alert("Informe o segundo valor corretamente: ");
          document.getElementById("grupoAltura").classList.add("has-error");
          document.getElementById("alertaAltura").style.display = "block";
          document.getElementById("alertaClf").style.display = "none";
          document.getElementById("alertaPesId").style.display = "none";
          document.dados.altura.value ="";
          document.dados.altura.focus();
          return;
      }

      document.getElementById("grupoAltura").classList.remove("has-error");
      document.getElementById("alertaAltura").style.display = "none";
      document.getElementById("alertaClf").style.display = "block";
      document.getElementById("alertaPesId").style.display = "block";

     var result = (p/(a*a));

     var res = result.toFixed(1);

     document.dados.resultado.value = res ;

     if(res<=18.5){
       document.getElementById("classificacao").innerHTML = "Subnutrição !!";

     }else if(res >=18.6 && res<=24.9){
       document.getElementById("classificacao").innerHTML = "Peso Saudável !!";
     }else if(res >=25.0 && res<=29.9){
       document.getElementById("classificacao").innerHTML = "Sobrepeso !!";
     }else if(res >=30.0 && res<=34.9){
       document.getElementById("classificacao").innerHTML = "Obesidade Grau 1 !!";
     }else if(res >=35.0 && res<=39.9){
       document.getElementById("classificacao").innerHTML = "Obesidade Grau 2 !!";
     }else{
       document.getElementById("classificacao").innerHTML = "Obesidade Grau 3 !!";
     }

     pesoIdeal(res);



    }


  </script>
</head>

  <body>
        <div clas="container">
          <div class="jumbotron text-center">
            <h2> Cálculo  IMC </h2>
          </div>

            <form name="dados">
              <div id="grupoPeso" class="form-group">

                <label for="peso">Peso</label>
                <input name="peso" type="text"><br><br>

                <div class="alert alert-danger" style="display:none" id="alertaPeso">
                  Informe o peso corretamente !!
                </div>
              </div>

                <div id="grupoAltura" class="form-group">
                  <label for="altura">Altura</label>
                  <input name="altura" type="text"><br><br>

                  <div class="alert alert-danger" style="display:none" id="alertaAltura">
                    Informe a altura corretamente !!
                  </div>
              </div>

              <div id="resultIMC" class="form-group">
                <label for="resultado">Resultado-IMC:</label>
                <input name="resultado" type="text"><br><br>
              </div>
              <div class="alert alert-warning" style=" display:none"id="alertaClf">
                <p id="classificacao"></p><!--innerHTML irá modificar esse campo para realizar a impressão-->
              </div>
              <div class="alert alert-warning" style=" display:none"id="alertaPesId">
                <p id="pesoId"></p><!--innerHTML irá modificar esse campo para realizar a impressão-->
              </div>

              </div>

              <button type="button"  onclick="imc()">Calcular</button>
              <button type="reset" class="btn btn-primary">Limpar</button>
          </form>
       </div>
  </body>
</html>
